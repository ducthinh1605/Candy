<div class="overflow-auto">
  <app-header></app-header>
  <section class="bg-primary padding-y-sm">
    <div class="container">
      <ol class="breadcrumb ondark mb-0">
      <li class="breadcrumb-item"><a routerLink="/home">Home</a></li>
      <li class="breadcrumb-item"><a routerLink="/products">Products</a></li>
      <li class="breadcrumb-item active" aria-current="page">{{product?.name}}</li>
      </ol>

    </div>
    </section>
    <section class="padding-y">
    <div class="container">
    <div class="row">
    <aside class="col-lg-6">
  <article class="gallery-wrap">
    <div class="img-big-wrap img-thumbnail">
      <a data-fslightbox="mygallery" data-type="image">
        <img height="560" (click)="viewImage(product?.img)" src="{{ product?.img }}">
      </a>
    </div>
    <div class="thumbs-wrap">
        <a *ngFor="let img of productIMG" data-fslightbox="mygallery" data-type="image" [href]="" class="item-thumb" (click)="viewImage(img)">
          <img width="60" height="60" [src]="img" alt="Product Thumbnail">
        </a>
      </div>
  </article>
</aside>
    <main class="col-lg-6">
      <article class="ps-lg-3">
      <h4 class="title text-dark"> {{ product?.name }} </h4>
      <div class="rating-wrap my-3">
        <ul class="rating-stars">
        </ul>
        <b class="label-rating text-warning"> 4.5</b>
        <i class="dot"></i>
        <span class="label-rating text-muted"> <i class="fa fa-shopping-basket"></i> {{product?.qty}} </span>
        <i class="dot"></i>
        <span class="label-rating text-success">Trong kho</span>
      </div>

      <div class="mb-3">
        <var class="price h5"> {{ product?.price | currency:'VND' }} </var>
        <span class="text-muted">/Sản Phẩm</span>
      </div>
      <p>
        {{ product?.description }}
      </p>
      <dl class="row">
        <dt class="col-3">Đóng gói</dt>
        <dd>{{ product?.pakage }}</dd>
        <!-- <dt class="col-3">Category</dt>
        <dt class="col-3">Brand</dt> -->
      </dl>
      <hr>
      <div class="row mb-4">
        <!-- <div class="col-md-4 col-6 mb-2">
        <label class="form-label">Size</label>
        <select [disabled]="!currentUser" class="form-select">
          <option>Small</option>
          <option>Medium</option>
          <option>Large</option>
        </select>
        </div> -->
        <div class="col-md-4 col-6 mb-3">
        <label class="form-label d-block">Quantity</label>
        <div class="input-group input-spinner">
          <button [disabled]="!currentUser " (click)="handelQuantity('down')" class="btn btn-icon btn-light" type="button">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="#999" viewBox="0 0 24 24">
            <path d="M19 13H5v-2h14v2z"></path>
            </svg>
          </button>
          <input [disabled]="!currentUser" [(ngModel)]="quantity" class="form-control text-center" placeholder="" value="1">
          <button [disabled]="!currentUser" (click)="handelQuantity('up')" class="btn btn-icon btn-light" type="button">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="#999" viewBox="0 0 24 24">
            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path>
            </svg>
          </button>
        </div>
        </div>
      </div>

      <!-- <button [disabled]="!currentUser " class="btn  btn-warning"> Buy now </button> -->
      <button [disabled]="!currentUser" (click)="addToCart()" class="btn  btn-warning"> <i class="me-1 fa fa-shopping-basket"></i> Thêm vào giỏ </button>
      <a class="btn  btn-light"> <i class="me-1 fa fa-heart"></i> Save </a>
      </article>
    </main>
    </div>
    </div>
    </section>
    <section class="padding-top">
      <div class="container">
        <header class="section-heading">
          <h3 class="section-title">Sản phẩm tương tự</h3>
        </header>
        <div class="row">
          <!-- Display similar products -->
          <div *ngFor="let similarProduct of similarProducts" class="col-lg-3 col-md-6 col-sm-6">
            <figure class="card card-product-grid" (click)="navigateToProduct(similarProduct.id)">
              
              <a class="img-wrap">
                <!-- Assuming the image is stored in similarProduct.img -->
                <img [src]="similarProduct.img" alt="Similar Product Image">
              </a>
              <figcaption class="info-wrap border-top">
                <a class="float-end btn btn-light btn-icon">
                  <i class="fa fa-heart"></i>
                </a>
                <a class="title text-truncate">{{ similarProduct.name }}</a>
                <div class="price-wrap">
                  <span class="price">{{ similarProduct.price | currency:'VND' }}</span>
                </div>
              </figcaption>
            </figure>
          </div>
          <!-- End of similar products loop -->
        </div>
      </div>
    </section>
    <app-footer></app-footer>
  </div>
